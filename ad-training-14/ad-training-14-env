#!/bin/bash
export BOSH_ENVIRONMENT=10.0.0.6
export BOSH_CA_CERT='-----BEGIN CERTIFICATE-----
MIIEVDCCArygAwIBAgIRAKI5jT55hnjgW2CSCl/JPbwwDQYJKoZIhvcNAQELBQAw
MzEMMAoGA1UEBhMDVVNBMRYwFAYDVQQKEw1DbG91ZCBGb3VuZHJ5MQswCQYDVQQD
EwJjYTAeFw0xODEwMDIxNDM2NTBaFw0xOTEwMDIxNDM2NTBaMDMxDDAKBgNVBAYT
A1VTQTEWMBQGA1UEChMNQ2xvdWQgRm91bmRyeTELMAkGA1UEAxMCY2EwggGiMA0G
CSqGSIb3DQEBAQUAA4IBjwAwggGKAoIBgQD24xe1a/qpREymYSjD5eLVlik0L8X5
CwiKCv1zxV6GMVwhYMTqBiLQSn1Keu6e/AMgliWJw/mHTEt/3pLX8Xvjie2lrQ96
21R1raC16X+iysbeUpcofdoY4qCDY9MVJVYKcuriVbyoJ/l04Fg4sj3eTCZRzGWc
jPDfvAESuA7sJ6LLwKsaqAFlQ2KTN5JEgBjlhT3GMa6+hEuYW2r+xWJ1q4Qs1koH
J47Vv+1TNLWqcxV7wfYzrpcVGTemu0iA5p5O1JwcBjbSuV4WxbPrZvKJfrHT/Pmv
3Y9/eyjCP0V7TtvgPuf9uVLbA+3fKCZjThCf9kkYa0iTl1RB41wHSpLI0a3++Uva
AfSmyYjqOKpmy5zMOuUsUnSP/EkWDUV3sXKwrEJQJvwcM8Ly4KE6Zfyd0BEV4xTD
T/ZLBslkgC/yyRe4fOaMffAHgow21+9TfyZx8bz41flgcJGB/PFrBXKKB0LjQjTc
vF7pfyp2r78khYnEhcn7mY8cePsIyHvH1JMCAwEAAaNjMGEwDgYDVR0PAQH/BAQD
AgEGMA8GA1UdEwEB/wQFMAMBAf8wHQYDVR0OBBYEFIpOjfA3f5bqY07VtfzwqwhS
1l5JMB8GA1UdIwQYMBaAFIpOjfA3f5bqY07VtfzwqwhS1l5JMA0GCSqGSIb3DQEB
CwUAA4IBgQDhFGZZcHzV3+tgoqRB/jVcGkIebC7jqfnJF94sVaUCIJVTPygTCfrG
Et1heNodNkP66ox5Zb2voLr+ZcfhqXI3LlTcq0RN1lVK+5ILfRM1XriPgyvwJuy+
wFcpJjOptcXRWvoQ3+G0pIAri+S2yy8H5DDBo+JvqwXWC1TRROVR5WMFzu1BjbSg
zJhwoc5pQgEtJb+7SkJjEEWkbRXXoT12dlHAzjNbETtfghFQd5usmFs+iJJzKO2O
5T7DCCHsVq2gMCSjmu4mwVUSBjAAMNEXUt2nRd3HXZjglUqw7YoO4eq8k5y5+VQk
6XAeHsnPAZQp/+lR4z4AQ8xzVWhdOPfrO5VAcEoBkdiDdAAP6AGRDP+SShI/LhGN
prh+dLYwG2rAFSLQHQoALGXPsZyn+Eb6ncX7W0h90H03YzWxXEX/ZY0gvX1zkZOK
QVq5GXNxXFKygPV7o7kJKrGcIYzZKERI7Tuj9M2xxcIiSu8FBWEaVrYlQlCdmvUe
PV9gXUJ5mzw=
-----END CERTIFICATE-----

-----BEGIN CERTIFICATE-----
MIIEYzCCAsugAwIBAgIQZ377QqQd1tcfPbz896eRJTANBgkqhkiG9w0BAQsFADA7
MQwwCgYDVQQGEwNVU0ExFjAUBgNVBAoTDUNsb3VkIEZvdW5kcnkxEzARBgNVBAMT
CkNyZWRIdWIgQ0EwHhcNMTgxMDAyMTQzNzE1WhcNMTkxMDAyMTQzNzE1WjA7MQww
CgYDVQQGEwNVU0ExFjAUBgNVBAoTDUNsb3VkIEZvdW5kcnkxEzARBgNVBAMTCkNy
ZWRIdWIgQ0EwggGiMA0GCSqGSIb3DQEBAQUAA4IBjwAwggGKAoIBgQCvx3bZt04o
2bx8zb0qUcLNIuvAhX5lCzAgGe98Ww3FfUuwMtXKJmSbhlcaf7ClU4z9e2DtHdup
p3kIkCDWqXSGjf0h/VxjcmSrct81mI9A7v0z9peD2gZHoT4sd9LsOFypZ7ZZoK/+
Dhf1a8eawsa++qTYHvnBw9b6yaFGCR0fw0Yf6WixEIe2K+NYnSeDGZKhY87eSpW9
9TyOA/2wQMh+xTCP/D6pkhSZ752+BRoe5RxeZsy4/vg5RdVIbcVF5xkqI7ptNUw8
fAqCvkVhbgtENXBS0kSiJjLCsBjbI95jb7T3vbW5S2TZ8ask/Ap1nsnp6iOJqxjQ
1BTq2POqdl83uFdJYdps9T7MIWibzqt47L7pYW8Fmo2k3om7AFY71r9LhS0NB7Rx
/1AxApUaWbOa+erpEwWV7HbCdTFX9OXr+k4pEchUf17CHWBZL5J4BvP9P45COUyE
LsNy7igifeLyM9s3BZRdAa0keYdSWaJ4h0fbCbChjaWscGJEP5VFquECAwEAAaNj
MGEwDgYDVR0PAQH/BAQDAgEGMA8GA1UdEwEB/wQFMAMBAf8wHQYDVR0OBBYEFN7c
t3rBbAk9RH6W0mC7S3VwngVVMB8GA1UdIwQYMBaAFN7ct3rBbAk9RH6W0mC7S3Vw
ngVVMA0GCSqGSIb3DQEBCwUAA4IBgQBwk7NzDiFYWPvyLtJND+zzfWWExd+d9eSJ
uuP5Gm7pbm6Zmi6FD6/M8uvEKBvFmJ14GdoyZ3M/Bnx81g58Hj4ez/Uy6r4wJ0mk
7B79aTvGwcz4uIn3XTa8KT762bsFHb/YTcj5qHc5q83eXjGZgv6T57ekHIGL6dtG
NPW61Osobg9mLJBZSWFC0iZwccaEcotAxVPVT5E1n3FYiyUlTAAQ6JbUBoCWd7Ce
tlfqVsm0JruK9KJpvZqcmag3YySA/LEjMPZ819NwUnq9irEZmtfSb7i6RtgnZUkn
JFdwhEwcjxZvssrocdzFVtzAuEp8CCeAWhINYa/5eo8IX2xT9zg4TgR4S+G+lDpD
k6UvLhuBwThOqI+NzQn4U3irNwa6tprFE5UJ8chrh9zAVovHXoAgi+VOeteoYNtD
TIRIu4bUE3DDtICGsKBgzFDwKx9ISqQyK3nUYYF4PAgVJ1XHPigoG+7eQMffOuDM
j+ba2+Ppqems6LgtAMk1bPuleworSx4=
-----END CERTIFICATE-----'
export BOSH_CLIENT=admin
export BOSH_CLIENT_SECRET=520z5dyy731yup1cl7cn
export BOSH_GW_USER=jumpbox
export BOSH_GW_HOST=10.0.0.6
export BOSH_GW_PRIVATE_KEY=$(mktemp)
cat > ${BOSH_GW_PRIVATE_KEY} <<-EOF
-----BEGIN RSA PRIVATE KEY-----
MIIEogIBAAKCAQEA41Wn9S+4yK6IulbFbDMRQ9pn/3YcP0fe6QCkcC5AsP9eAhN2
wl+o8BQ8aZRp1lNj34UESJ7+PyMk44p/9dGcqv5pQ86K+LfZyP/8oFR4Jv48Yq7Z
92+to09XGNl2ael08kS7vfyB/A1pFA41kvgDvU6APfN0XyrQlkPuwrV0n87xKOT5
qQU+DRDDkLsGSyARSIV7rOrDtLW8zK5g9XhK1i4mAYRVep1cDQXPOtnwh18mHE9K
pvAtagiHpDN5bN82jqi/ygNOjLdcMGyiz3sPrFDhz1fT6xoHa6puSd00Jea25j91
2j5aI+//d6m/NYgIoAIlTzkwL3indcNVWlo06QIDAQABAoIBAChAfmC3dmxyGtuD
ialC0YfGICvnadD6lMmEx5jlV6b/UFHlyF1aOrtnmdrH4IWGdmSZVMzW+gWL33g6
ibWoy6irK1BKPekUBIfGa6Cn1C5zTZXbh9R7/a6w2acYuhK+t2o+KU/Wad2LMlPO
wEWpjF/0ilhtxuki15QDqz7miiPRVu1ejRz6ncZLo/lg8/VBE7P9jTjlimLnGiKR
KjYod2R7BSPNlAyCKm4G+0YHwpkGSDBcU04iIy1RsX+Ymu64EKX1LP3wuADtgyRe
GKetyyx+u7xWTUFo816JetvPuq1Ko8p5plpyc39UTG2VuV2eLeegAg3ls+h4FRWg
63R9OgECgYEA/lQlAd4C9evIJk+an3NkFI9EnlmarhWKRpJ17qwA2b4r6tuxWHP9
9zM4NF8pBDoCqd5gjdZCpjP4ZSztYKIT/UDdlKJ8fV25QeB1bqtO39kGFyq7vAAl
+cFfzk80FI7zh6HVErUTSvjdzCENWn00jF1owKsgzfG9RdnI4IVB23ECgYEA5NQZ
e3cuhSz9M93rEm5vR+Kc4LaHKlmC4+EyQIgPzrOIPXfVHArPPxPWZpg0ZRfG4e48
UArjVDeh2psOF+yzw7diF2gsPAMwfUhCzrVIRjBv8BRfKz/5J4hMW+nWQAqcU8a4
6E4vQIvhfpHz3ikGi8BlHWKIxMNsizkv/1i+BPkCgYALkX5BcHzH/NqUy4gn+pKx
0LZ5UXAUvQwWG7Fbkt1TCjBrNWUCtfv2U5EZ6L4v4Aeg/Gl96iIL9080IvAFNjoc
iefKS/3Hogy8L16IEyi6S9/YC+yQJ52Sl7Yo5zdiPAJdyAGuIShof5tvHo3B8PID
9HfAU8hhNb67P6XAeK8/MQKBgGY73KasuLwHPZjOrReu/0i+lhhPdFQXacMl+a2b
HHTdASF1SGEe8zjbRA7SMZZ46QJHzep08tvNfyKL4+AMgMQQSmLqx9iIFEHk5vQz
SfcR7PD2KQ7JpidjXboy3uX915oWTsZ7J+FOnZBO5QV8jtAhRQu72h8OsJADHM6Y
d00BAoGAfAVjqPMmt4SlLiHba5vDO6oowvieD/1Qma4BK/zJDB0blMAkI96AlpW6
JJX3QVyUWGqVHHI8KTQnQ9caEXtSIdrXVhBEy4Tbix/DcjQw8UfY6Yqpse6rqhEI
AIRZWiW0wdz2dLOLqHzwtYWRYQvImrqOGBiOoR+7rkjGkNO9Tfw=
-----END RSA PRIVATE KEY-----
EOF
export BOSH_ALL_PROXY_KEY=$(mktemp)
cat > ${BOSH_ALL_PROXY_KEY} <<-EOF
-----BEGIN RSA PRIVATE KEY-----
MIIEowIBAAKCAQEAqccpEVeX1CUKIdNVhjq2hb1XG3RrvxTaVFg29QIfG0+QqoZV
BatV1juLlr7ief4TRXRWfBZ7lcSeNcpV1w1GK5cT0Kj0MUr4wVzmxDJu7mD0sNF0
78bbC7w15V6TDM90DWqq+nRU+Uyxn5nyORsV1s8ylwwiR0TtRqBuVf9eRWkzql+Q
+GSygpfP86AmfafNZL7IsH+LaA2Xyk9NBwyJpi7crag9vvkVVD6vaRUk0eOfqOYg
Eh4TOMCjCW05HvgI2o72WmcGSzjuIzNiSAvN7jRBUfskNkR8aBn90W4chAmtoDQr
QgbNDTZnjft22X408MTrn2HyF3D27nKsjdyR9wIDAQABAoIBAGwYuUYobiwNlUDq
LLb1JQdMAW0imAOmhEhVjlA7FJEv/J0GQJYGe/WWHg9R5CLmKWD8bKA/NFqsQEth
U3xEIFxaqaweFrRX1sBOpUNgFQ9DvifihMCx7P+wyuQKbjgm0e5E7y3d6ch9E07a
FsZTP3lwnPZdLGoSMbzZIscwe9ZW1h9kfQXu/AFOqvU4ZFDLx6G9SX/JnN9VsI2j
q3CCcn9MvC5DQh53F6YD8E3GAIoUKPACKr/54ESaNK1g5Txrcfxqml/qbZu1fMbb
BQ0xWFPkC6RFQxQEFLuLN8035ph+/9RhSZwjDCHYAlmLPGVTPgZALGSy+jeaW3ej
HZBtClkCgYEA3kj7RHaRALK8G23cAtlIaIc9lA5kQzaAoTugxbn0LdhrSKUvs8i9
gLmTx+Itbos+BVH1ol0YXJ1qIxcPHcxLGfdbg+Dh7Td5csEu6amn3eVDktFjw5ud
GdUcOT285LHQdTp+ipaMsfWRLlQfwUNS9YEUQqj/3Uv/Vks+2cRQr4sCgYEAw4dm
tqqmYxpNwV7Bx7GmABx2ubDwytKhfFsoXYUY4UsNzEYSJDgBiqVuXgQoZINFEqeC
4e3zzawBDFVBi0MpaYRd6mzgbA3Cb6TwyL31keC6czkOc6Iv0b6q38u2vaTgDoEg
aM0FDvUwkbpRXnPFhPAgpX8zOMLmdtbIbUv/9MUCgYEAyckMuCC+Dxkx4+B92eQv
dBxZDR9naxB+Al+j2fqtrDSLZ530yMsRJFrSyaALyA8FFUVKq8LBC8omgIY9Rbqf
7ol6/SPXVEWIrWCrWpiVd7zY8927J+YK3ll0To45/I1ihBi+qMZ0IFShH6JkVUft
dkpf/wd1hgmoWEjkXEF3UXMCgYBKVKT1eDY8onlAs5cTJTOoAyoXOW6wjBYbwkO8
Gab1rqSWLWUkI65iWLV2RDpey5BsoQWegekXHPZhC+AY4vVRSaKyRaWjLi/mZVur
1JsQU9BNkTkvOE7Ze5RV84mK2qzalrgNXzM3FnraS2w3bed+vBKNF6gPQfh+4PPc
qPGqyQKBgDOjZj9BvmtRAA3VnCeif+QRMIzBTw9+Rjo67fj9/Lrvp2cvp0n/mKi6
T7AWFfGSPzvt0d0ErNNKkEmJjIka1wOoiNGqvcssU5k0xhHy3RhIo2WrfAfZRuwu
yN4oRVrH7R8oYbM5Vv5yqMlqgAKwyvNFGrJZJSRQV2bgTVUhikQv
-----END RSA PRIVATE KEY-----
EOF
export BOSH_ALL_PROXY=ssh+socks5://jumpbox@35.199.33.250:22?private-key=${BOSH_ALL_PROXY_KEY}
